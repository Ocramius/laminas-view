<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>HeadStyle - laminas-view</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">laminas-view</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../../quick-start/" class="nav-link">Quick Start</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Rendering Views <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../php-renderer/" class="dropdown-item">The PhpRenderer</a>
</li>
                                    
<li>
    <a href="../../view-scripts/" class="dropdown-item">View Scripts</a>
</li>
                                    
<li>
    <a href="../../view-event/" class="dropdown-item">The ViewEvent</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Helpers <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../intro/" class="dropdown-item">Introduction</a>
</li>
                                    
<li>
    <a href="../asset/" class="dropdown-item">Asset</a>
</li>
                                    
<li>
    <a href="../base-path/" class="dropdown-item">BasePath</a>
</li>
                                    
<li>
    <a href="../cycle/" class="dropdown-item">Cycle</a>
</li>
                                    
<li>
    <a href="../doctype/" class="dropdown-item">Doctype</a>
</li>
                                    
<li>
    <a href="../escape/" class="dropdown-item">Escape</a>
</li>
                                    
<li>
    <a href="../flash-messenger/" class="dropdown-item">FlashMessenger</a>
</li>
                                    
<li>
    <a href="../gravatar/" class="dropdown-item">Gravatar</a>
</li>
                                    
<li>
    <a href="../head-link/" class="dropdown-item">HeadLink</a>
</li>
                                    
<li>
    <a href="../head-meta/" class="dropdown-item">HeadMeta</a>
</li>
                                    
<li>
    <a href="../head-script/" class="dropdown-item">HeadScript</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">HeadStyle</a>
</li>
                                    
<li>
    <a href="../head-title/" class="dropdown-item">HeadTitle</a>
</li>
                                    
<li>
    <a href="../html-list/" class="dropdown-item">HtmlList</a>
</li>
                                    
<li>
    <a href="../html-object/" class="dropdown-item">HtmlObject</a>
</li>
                                    
<li>
    <a href="../html-tag/" class="dropdown-item">HtmlTag</a>
</li>
                                    
<li>
    <a href="../identity/" class="dropdown-item">Identity</a>
</li>
                                    
<li>
    <a href="../inline-script/" class="dropdown-item">InlineScript</a>
</li>
                                    
<li>
    <a href="../json/" class="dropdown-item">Json</a>
</li>
                                    
<li>
    <a href="../layout/" class="dropdown-item">Layout</a>
</li>
                                    
<li>
    <a href="../partial/" class="dropdown-item">Partial</a>
</li>
                                    
<li>
    <a href="../placeholder/" class="dropdown-item">Placeholder</a>
</li>
                                    
<li>
    <a href="../url/" class="dropdown-item">Url</a>
</li>
                                    
<li>
    <a href="../advanced-usage/" class="dropdown-item">Advanced usage of helpers</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Application Integration <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../application-integration/stand-alone/" class="dropdown-item">Stand-Alone</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Cookbook <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../cookbook/setting-module-specific-layouts/" class="dropdown-item">Setting module-specific Layouts</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../head-script/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../head-title/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/laminas/laminas-view/edit/master/docs/helpers/head-style.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#headstyle" class="nav-link">HeadStyle</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#basic-usage" class="nav-link">Basic Usage</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#capturing-style-declarations" class="nav-link">Capturing Style Declarations</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="headstyle">HeadStyle</h1>
<p>The HTML <code>&lt;style&gt;</code> element is used to include CSS stylesheets inline in the HTML
<code>&lt;head&gt;</code> element.</p>
<blockquote>
<h3 id="use-headlink-to-link-css-files">Use HeadLink to link CSS files</h3>
<p><a href="../head-link/">HeadLink</a> should be used to create <code>&lt;link&gt;</code> elements for
including external stylesheets. <code>HeadStyle</code> is used when you wish to define
your stylesheets inline.</p>
</blockquote>
<p>The <code>HeadStyle</code> helper supports the following methods for setting and adding stylesheet
declarations:</p>
<ul>
<li><code>appendStyle($content, $attributes = [])</code></li>
<li><code>offsetSetStyle($index, $content, $attributes = [])</code></li>
<li><code>prependStyle($content, $attributes = [])</code></li>
<li><code>setStyle($content, $attributes = [])</code></li>
</ul>
<p>In all cases, <code>$content</code> is the actual CSS declarations. <code>$attributes</code> are any
additional attributes you wish to provide to the <code>style</code> tag: lang, title,
media, or dir are all permissible.</p>
<blockquote>
<h3 id="setting-conditional-comments">Setting Conditional Comments</h3>
<p><code>HeadStyle</code> allows you to wrap the style tag in conditional comments, which
allows you to hide it from specific browsers. To add the conditional tags,
pass the conditional value as part of the <code>$attributes</code> parameter in the
method calls.</p>
<p><code>php
// adding comments
$this-&gt;headStyle()-&gt;appendStyle($styles, ['conditional' =&gt; 'lt IE 7']);</code></p>
</blockquote>
<p><code>HeadStyle</code> also allows capturing style declarations; this can be useful if you
want to create the declarations programmatically, and then place them elsewhere.
The usage for this will be showed in an example below.</p>
<p>Finally, you can also use the <code>headStyle()</code> method to quickly add declarations
elements; the signature for this is <code>headStyle($content = null, $placement =
'APPEND', $attributes = [])</code>.  <code>$placement</code> should be either <code>APPEND</code>,
<code>PREPEND</code>, or <code>SET</code>.</p>
<p><code>HeadStyle</code> overrides each of <code>append()</code>, <code>offsetSet()</code>, <code>prepend()</code>, and
<code>set()</code> to enforce usage of the special methods as listed above. Internally, it
stores each item as a <code>stdClass</code> token, which it later serializes using the
<code>itemToString()</code> method. This allows you to perform checks on the items in the
stack, and optionally modify these items by modifying the object returned.</p>
<p>The <code>HeadStyle</code> helper is a concrete implementation of the
<a href="../placeholder/">Placeholder helper</a>.</p>
<blockquote>
<h3 id="utf-8-encoding-used-by-default">UTF-8 encoding used by default</h3>
<p>By default, laminas-view uses <em>UTF-8</em> as its default encoding.  If you want to
use another encoding with <code>headStyle</code>, you must:</p>
<ol>
<li>Create a custom renderer and implement a <code>getEncoding()</code> method;</li>
<li>Create a custom rendering strategy that will return an instance of your custom renderer;</li>
<li>Attach the custom strategy in the <code>ViewEvent</code>.</li>
</ol>
<p>First we have to write the custom renderer:</p>
<p>```php
// module/MyModule/View/Renderer/MyRenderer.php
namespace MyModule\View\Renderer;</p>
<p>// Since we just want to implement the getEncoding() method, we can extend the Laminas native renderer
use Laminas\View\Renderer\PhpRenderer;</p>
<p>class MyRenderer extends PhpRenderer
{
    /*<em>
     * @var string
     </em>/
    protected $encoding;</p>
<pre><code>/**
 * Constructor
 *
 * @param  string $encoding The encoding to be used
 */
public function __construct($encoding)
{
    parent::__construct();
    $this-&gt;encoding = $encoding;
}

/**
 * Sets the encoding
 *
 * @param string $encoding The encoding to be used
 */
public function setEncoding($encoding)
{
    $this-&gt;encoding = $encoding;
}

/**
 * Gets the encoding
 *
 * @return string The encoding being used
 */
public function getEncoding()
{
    return $this-&gt;encoding;
}
</code></pre>
<p>}
```</p>
<p>Now we make some configuration in the module class:</p>
<p>```php
// module/MyModule.php
namespace MyModule;</p>
<p>use MyModule\View\Renderer\MyRenderer;
use Laminas\Mvc\MvcEvent;
use Laminas\View\Strategy\PhpRendererStrategy;</p>
<p>class Module
{
    public function getConfig(){/<em> ... </em>/}</p>
<pre><code>public function getAutoloaderConfig(){/* ... */}

public function getServiceConfig()
{
    return [
        'factories' =&gt; [
            // Register our custom renderer in the container
            'MyCustomRenderer' =&gt; function ($container) {
                return new MyRenderer('ISO-8859-1');
            },
            'MyCustomStrategy' =&gt; function ($container) {
                // As stated before, we just want to implement the
                // getEncoding() method, so we can use the base PhpRendererStrategy
                // and provide our custom renderer to it.
                $myRenderer = $container-&gt;get('MyCustomRenderer');
                return new PhpRendererStrategy($myRenderer);
            },
        ],
    ];
}

public function onBootstrap(MvcEvent $e)
{
    // Register a render event
    $app = $e-&gt;getParam('application');
    $app-&gt;getEventManager()-&gt;attach('render', [$this, 'registerMyStrategy'], 100);
}

public function registerMyStrategy(MvcEvent $e)
{
    $app        = $e-&gt;getTarget();
    $locator    = $app-&gt;getServiceManager();
    $view       = $locator-&gt;get('Laminas\View\View');
    $myStrategy = $locator-&gt;get('MyCustomStrategy');

    // Attach strategy, which is a listener aggregate, at high priority
    $view-&gt;getEventManager()-&gt;attach($myStrategy, 100);
}
</code></pre>
<p>}
```</p>
<p>See the quick start <a href="../../quick-start/#creating-and-registering-alternate-rendering-and-response-strategies">Creating and Registering Alternate Rendering and Response Strategies</a>
chapter for more information on how to create and register custom strategies
to your view.</p>
</blockquote>
<h2 id="basic-usage">Basic Usage</h2>
<p>You may specify a new style tag at any time:</p>
<pre><code class="php">// adding styles
$this-&gt;headStyle()-&gt;appendStyle($styles);
</code></pre>

<p>Order is very important with CSS; you may need to ensure that declarations are
loaded in a specific order due to the order of the cascade; use the various
<code>append</code>, <code>prepend</code>, and <code>offsetSet</code> directives to aid in this task:</p>
<pre><code class="php">// Putting styles in order

// place at a particular offset:
$this-&gt;headStyle()-&gt;offsetSetStyle(100, $customStyles);

// place at end:
$this-&gt;headStyle()-&gt;appendStyle($finalStyles);

// place at beginning
$this-&gt;headStyle()-&gt;prependStyle($firstStyles);
</code></pre>

<p>When you're finally ready to output all style declarations in your layout
script, echo the helper:</p>
<pre><code class="php">&lt;?= $this-&gt;headStyle() ?&gt;
</code></pre>

<h2 id="capturing-style-declarations">Capturing Style Declarations</h2>
<p>Sometimes you need to generate CSS style declarations programmatically. While
you could use string concatenation, heredocs, and the like, often it's easier
just to do so by creating the styles and sprinkling in PHP tags. <code>HeadStyle</code>
lets you do just that, capturing it to the stack:</p>
<pre><code class="php">&lt;?php $this-&gt;headStyle()-&gt;captureStart() ?&gt;
body {
    background-color: &lt;?= $this-&gt;bgColor ?&gt;;
}
&lt;?php $this-&gt;headStyle()-&gt;captureEnd() ?&gt;
</code></pre>

<p>The following assumptions are made:</p>
<ul>
<li>The style declarations will be appended to the stack. If you wish for them to
  replace the stack or be added to the top, you will need to pass <code>SET</code> or
  <code>PREPEND</code>, respectively, as the first argument to <code>captureStart()</code>.</li>
<li>If you wish to specify any additional attributes for the <code>&lt;style&gt;</code> tag, pass
  them in an array as the second argument to <code>captureStart()</code>.</li>
</ul></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <div class="table-responsive"><table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
