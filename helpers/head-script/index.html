<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>HeadScript - laminas-view</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">laminas-view</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../../quick-start/" class="nav-link">Quick Start</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Rendering Views <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../php-renderer/" class="dropdown-item">The PhpRenderer</a>
</li>
                                    
<li>
    <a href="../../view-scripts/" class="dropdown-item">View Scripts</a>
</li>
                                    
<li>
    <a href="../../view-event/" class="dropdown-item">The ViewEvent</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Helpers <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../intro/" class="dropdown-item">Introduction</a>
</li>
                                    
<li>
    <a href="../asset/" class="dropdown-item">Asset</a>
</li>
                                    
<li>
    <a href="../base-path/" class="dropdown-item">BasePath</a>
</li>
                                    
<li>
    <a href="../cycle/" class="dropdown-item">Cycle</a>
</li>
                                    
<li>
    <a href="../doctype/" class="dropdown-item">Doctype</a>
</li>
                                    
<li>
    <a href="../escape/" class="dropdown-item">Escape</a>
</li>
                                    
<li>
    <a href="../flash-messenger/" class="dropdown-item">FlashMessenger</a>
</li>
                                    
<li>
    <a href="../gravatar/" class="dropdown-item">Gravatar</a>
</li>
                                    
<li>
    <a href="../head-link/" class="dropdown-item">HeadLink</a>
</li>
                                    
<li>
    <a href="../head-meta/" class="dropdown-item">HeadMeta</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">HeadScript</a>
</li>
                                    
<li>
    <a href="../head-style/" class="dropdown-item">HeadStyle</a>
</li>
                                    
<li>
    <a href="../head-title/" class="dropdown-item">HeadTitle</a>
</li>
                                    
<li>
    <a href="../html-list/" class="dropdown-item">HtmlList</a>
</li>
                                    
<li>
    <a href="../html-object/" class="dropdown-item">HtmlObject</a>
</li>
                                    
<li>
    <a href="../html-tag/" class="dropdown-item">HtmlTag</a>
</li>
                                    
<li>
    <a href="../identity/" class="dropdown-item">Identity</a>
</li>
                                    
<li>
    <a href="../inline-script/" class="dropdown-item">InlineScript</a>
</li>
                                    
<li>
    <a href="../json/" class="dropdown-item">Json</a>
</li>
                                    
<li>
    <a href="../layout/" class="dropdown-item">Layout</a>
</li>
                                    
<li>
    <a href="../partial/" class="dropdown-item">Partial</a>
</li>
                                    
<li>
    <a href="../placeholder/" class="dropdown-item">Placeholder</a>
</li>
                                    
<li>
    <a href="../url/" class="dropdown-item">Url</a>
</li>
                                    
<li>
    <a href="../advanced-usage/" class="dropdown-item">Advanced usage of helpers</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Application Integration <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../application-integration/stand-alone/" class="dropdown-item">Stand-Alone</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Cookbook <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../cookbook/setting-module-specific-layouts/" class="dropdown-item">Setting module-specific Layouts</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../head-meta/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../head-style/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/laminas/laminas-view/edit/master/docs/helpers/head-script.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#headscript" class="nav-link">HeadScript</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#basic-usage" class="nav-link">Basic Usage</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#capturing-scripts" class="nav-link">Capturing Scripts</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="headscript">HeadScript</h1>
<p>The HTML <code>&lt;script&gt;</code> element is used to either provide inline client-side
scripting elements or link to a remote resource containing client-side scripting
code. The <code>HeadScript</code> helper allows you to manage both.</p>
<p>The <code>HeadScript</code> helper supports the following methods for setting and adding scripts:</p>
<ul>
<li><code>appendFile($src, $type = 'text/javascript', $attrs = [])</code></li>
<li><code>offsetSetFile($index, $src, $type = 'text/javascript', $attrs = [])</code></li>
<li><code>prependFile($src, $type = 'text/javascript', $attrs = [])</code></li>
<li><code>setFile($src, $type = 'text/javascript', $attrs = [])</code></li>
<li><code>appendScript($script, $type = 'text/javascript', $attrs = [])</code></li>
<li><code>offsetSetScript($index, $script, $type = 'text/javascript', $attrs = [])</code></li>
<li><code>prependScript($script, $type = 'text/javascript', $attrs = [])</code></li>
<li><code>setScript($script, $type = 'text/javascript', $attrs = [])</code></li>
</ul>
<p>In the case of the <code>*File()</code> methods, <code>$src</code> is the remote location of the
script to load; this is usually in the form of a URL or a path. For the
<code>*Script()</code> methods, <code>$script</code> is the client-side scripting directives you wish
to use in the element.</p>
<blockquote>
<h3 id="setting-conditional-comments">Setting Conditional Comments</h3>
<p><code>HeadScript</code> allows you to wrap the script tag in conditional comments, which
allows you to hide it from specific browsers. To add the conditional tags,
pass the conditional value as part of the <code>$attrs</code> parameter in the method
calls.</p>
<p><code>php
// adding scripts
$this-&gt;headScript()-&gt;appendFile(
    '/js/prototype.js',
    'text/javascript',
    ['conditional' =&gt; 'lt IE 7']
);</code></p>
<h3 id="preventing-html-style-comments-or-cdata-wrapping-of-scripts">Preventing HTML style comments or CDATA wrapping of scripts</h3>
<p>By default, <code>HeadScript</code> will wrap scripts with HTML comments or it wraps
scripts with XHTML CDATA.  This behavior can be problematic when you intend to
use the script tag in an alternative way by setting the type to something
other then <code>text/javascript</code>. To prevent such escaping, pass an <code>noescape</code>
with a value of true as part of the <code>$attrs</code> parameter in the method calls.</p>
<p>```php
// jquery template
$template = '<div class="book">{{:title}}</div>';</p>
<p>$this-&gt;headScript()-&gt;appendScript(
    $template,
    'text/x-jquery-tmpl',
    ['id' =&gt; 'tmpl-book', 'noescape' =&gt; true]
);
```</p>
</blockquote>
<p><code>HeadScript</code> also allows capturing scripts; this can be useful if you want to
create the client-side script programmatically, and then place it elsewhere. The
usage for this will be showed in an example below.</p>
<p>Finally, you can also use the <code>headScript()</code> method to quickly add script
elements; the signature for this is <code>headScript($mode = 'FILE', $spec = null,
$placement = 'APPEND', array $attrs = [], $type = 'text/javascript')</code>. The
<code>$mode</code> is either 'FILE' or 'SCRIPT', depending on if you're linking a script or
defining one. <code>$spec</code> is either the script file to link or the script source
itself. <code>$placement</code> should be either 'APPEND', 'PREPEND', or 'SET'. <code>$attrs</code> is
an array of script attributes. <code>$type</code> is the script type attribute.</p>
<p><code>HeadScript</code> overrides each of <code>append()</code>, <code>offsetSet()</code>, <code>prepend()</code>, and
<code>set()</code> to enforce usage of the special methods as listed above. Internally, it
stores each item as a <code>stdClass</code> token, which it later serializes using the
<code>itemToString()</code> method. This allows you to perform checks on the items in the
stack, and optionally modify these items by modifying the object returned.</p>
<p>The <code>HeadScript</code> helper is a concrete implementation of the
<a href="../placeholder/">Placeholder helper</a>.</p>
<blockquote>
<h3 id="use-inlinescript-for-html-body-scripts">Use InlineScript for HTML Body Scripts</h3>
<p><code>HeadScript</code>'s sibling helper, <a href="../inline-script/">InlineScript</a>, should be
used when you wish to include scripts inline in the HTML <strong>body</strong>. Placing
scripts at the end of your document is a good practice for speeding up
delivery of your page, particularly when using 3rd party analytics scripts.</p>
<h3 id="arbitrary-attributes-are-disabled-by-default">Arbitrary Attributes are Disabled by Default</h3>
<p>By default, <code>HeadScript</code> only will render <code>&lt;script&gt;</code> attributes that are blessed by the W3C.
These include <code>id</code>, <code>charset</code>, <code>crossorigin</code>, <code>defer</code>, <code>integrity</code>,
<code>language</code>, <code>src</code>, and <code>type</code>. However, some JavaScript frameworks, notably
<a href="http://www.dojotoolkit.org/">Dojo</a>, utilize custom attributes in order to
modify behavior. To allow such attributes, you can enable them via the
<code>setAllowArbitraryAttributes()</code> method:</p>
<p><code>php
$this-&gt;headScript()-&gt;setAllowArbitraryAttributes(true);</code></p>
</blockquote>
<h2 id="basic-usage">Basic Usage</h2>
<p>You may specify a new script tag at any time. As noted above, these may be links
to outside resource files or scripts themselves.</p>
<pre><code class="php">// adding scripts
$this-&gt;headScript()
    -&gt;appendFile('/js/prototype.js')
    -&gt;appendScript($onloadScript);
</code></pre>

<p>Order is often important with client-side scripting; you may need to ensure that
libraries are loaded in a specific order due to dependencies each have; use the
various <code>append</code>, <code>prepend</code>, and <code>offsetSet</code> directives to aid in this task:</p>
<pre><code class="php">// Putting scripts in order

// place at a particular offset to ensure loaded last
$this-&gt;headScript()-&gt;offsetSetFile(100, '/js/myfuncs.js');

// use scriptaculous effects (append uses next index, 101)
$this-&gt;headScript()-&gt;appendFile('/js/scriptaculous.js');

// but always have base prototype script load first:
$this-&gt;headScript()-&gt;prependFile('/js/prototype.js');
</code></pre>

<p>When you're finally ready to output all scripts in your layout script, simply
echo the helper:</p>
<pre><code class="php">&lt;?= $this-&gt;headScript() ?&gt;
</code></pre>

<h2 id="capturing-scripts">Capturing Scripts</h2>
<p>Sometimes you need to generate client-side scripts programmatically. While you
could use string concatenation, heredocs, and the like, often it's easier just
to do so by creating the script and sprinkling in PHP tags. <code>HeadScript</code> lets
you do just that, capturing it to the stack:</p>
<pre><code class="php">&lt;?php $this-&gt;headScript()-&gt;captureStart() ?&gt;
var action = '&lt;?= $this-&gt;baseUrl ?&gt;';
$('foo_form').action = action;
&lt;?php $this-&gt;headScript()-&gt;captureEnd() ?&gt;
</code></pre>

<p>The following assumptions are made:</p>
<ul>
<li>The script will be appended to the stack. If you wish for it to replace the
  stack or be added to the top, you will need to pass 'SET' or 'PREPEND',
  respectively, as the first argument to <code>captureStart()</code>.</li>
<li>The script MIME type is assumed to be <code>text/javascript</code>; if you wish to
  specify a different type, you will need to pass it as the second argument to
  <code>captureStart()</code>.</li>
<li>If you wish to specify any additional attributes for the <code>&lt;script&gt;</code> tag, pass
  them in an array as the third argument to <code>captureStart()</code>.</li>
</ul></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <div class="table-responsive"><table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
