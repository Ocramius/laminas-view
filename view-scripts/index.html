<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>View Scripts - laminas-view</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">laminas-view</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../quick-start/" class="nav-link">Quick Start</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Rendering Views <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../php-renderer/" class="dropdown-item">The PhpRenderer</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">View Scripts</a>
</li>
                                    
<li>
    <a href="../view-event/" class="dropdown-item">The ViewEvent</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Helpers <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../helpers/intro/" class="dropdown-item">Introduction</a>
</li>
                                    
<li>
    <a href="../helpers/asset/" class="dropdown-item">Asset</a>
</li>
                                    
<li>
    <a href="../helpers/base-path/" class="dropdown-item">BasePath</a>
</li>
                                    
<li>
    <a href="../helpers/cycle/" class="dropdown-item">Cycle</a>
</li>
                                    
<li>
    <a href="../helpers/doctype/" class="dropdown-item">Doctype</a>
</li>
                                    
<li>
    <a href="../helpers/escape/" class="dropdown-item">Escape</a>
</li>
                                    
<li>
    <a href="../helpers/flash-messenger/" class="dropdown-item">FlashMessenger</a>
</li>
                                    
<li>
    <a href="../helpers/gravatar/" class="dropdown-item">Gravatar</a>
</li>
                                    
<li>
    <a href="../helpers/head-link/" class="dropdown-item">HeadLink</a>
</li>
                                    
<li>
    <a href="../helpers/head-meta/" class="dropdown-item">HeadMeta</a>
</li>
                                    
<li>
    <a href="../helpers/head-script/" class="dropdown-item">HeadScript</a>
</li>
                                    
<li>
    <a href="../helpers/head-style/" class="dropdown-item">HeadStyle</a>
</li>
                                    
<li>
    <a href="../helpers/head-title/" class="dropdown-item">HeadTitle</a>
</li>
                                    
<li>
    <a href="../helpers/html-list/" class="dropdown-item">HtmlList</a>
</li>
                                    
<li>
    <a href="../helpers/html-object/" class="dropdown-item">HtmlObject</a>
</li>
                                    
<li>
    <a href="../helpers/html-tag/" class="dropdown-item">HtmlTag</a>
</li>
                                    
<li>
    <a href="../helpers/identity/" class="dropdown-item">Identity</a>
</li>
                                    
<li>
    <a href="../helpers/inline-script/" class="dropdown-item">InlineScript</a>
</li>
                                    
<li>
    <a href="../helpers/json/" class="dropdown-item">Json</a>
</li>
                                    
<li>
    <a href="../helpers/layout/" class="dropdown-item">Layout</a>
</li>
                                    
<li>
    <a href="../helpers/partial/" class="dropdown-item">Partial</a>
</li>
                                    
<li>
    <a href="../helpers/placeholder/" class="dropdown-item">Placeholder</a>
</li>
                                    
<li>
    <a href="../helpers/url/" class="dropdown-item">Url</a>
</li>
                                    
<li>
    <a href="../helpers/advanced-usage/" class="dropdown-item">Advanced usage of helpers</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Application Integration <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../application-integration/stand-alone/" class="dropdown-item">Stand-Alone</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Cookbook <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../cookbook/setting-module-specific-layouts/" class="dropdown-item">Setting module-specific Layouts</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../php-renderer/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../view-event/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/laminas/laminas-view/edit/master/docs/view-scripts.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#view-scripts" class="nav-link">View Scripts</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#escaping-output" class="nav-link">Escaping Output</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="view-scripts">View Scripts</h1>
<p>Once you call <code>render()</code>, <code>Laminas\View\Renderer\PhpRenderer</code> then <code>include()</code>s the
requested view script and executes it "inside" the scope of the <code>PhpRenderer</code>
instance. Therefore, in your view scripts, references to <code>$this</code> actually point
to the <code>PhpRenderer</code> instance itself.</p>
<p>Variables assigned to the view, either via a <a href="../quick-start/#controllers-and-view-models">View Model</a>,
<a href="../quick-start/">Variables container</a>, or by passing an array of variables to
<code>render()</code>, may be retrieved in three ways:</p>
<ul>
<li>Explicitly, by retrieving them from the <code>Variables</code> container composed in the
  <code>PhpRenderer</code>: <code>$this-&gt;vars()-&gt;varname</code>.</li>
<li>As instance properties of the <code>PhpRenderer</code> instance: <code>$this-&gt;varname</code>. (In
  this situation, instance property access is proxying to the composed
  <code>Variables</code> instance.)</li>
<li>As local PHP variables: <code>$varname</code>. The <code>PhpRenderer</code> extracts the members of
  the <code>Variables</code> container locally.</li>
</ul>
<p>We generally recommend using the second notation, as it's less verbose than the
first, but differentiates between variables in the view script scope and those
assigned to the renderer from elsewhere.</p>
<p>By way of reminder, here is the example view script from the <code>PhpRenderer</code>
introduction.</p>
<pre><code class="php">&lt;?php if ($this-&gt;books): ?&gt;

    &lt;!-- A table of some books. --&gt;
    &lt;table&gt;
        &lt;tr&gt;
            &lt;th&gt;Author&lt;/th&gt;
            &lt;th&gt;Title&lt;/th&gt;
        &lt;/tr&gt;

        &lt;?php foreach ($this-&gt;books as $key =&gt; $val): ?&gt;
        &lt;tr&gt;
            &lt;td&gt;&lt;?= $this-&gt;escapeHtml($val['author']) ?&gt;&lt;/td&gt;
            &lt;td&gt;&lt;?= $this-&gt;escapeHtml($val['title']) ?&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;?php endforeach; ?&gt;

    &lt;/table&gt;

&lt;?php else: ?&gt;

    &lt;p&gt;There are no books to display.&lt;/p&gt;

&lt;?php endif;?&gt;
</code></pre>

<h2 id="escaping-output">Escaping Output</h2>
<p>One of the most important tasks to perform in a view script is to make sure that
output is escaped properly; among other things, this helps to avoid cross-site
scripting attacks. Unless you are using a function, method, or helper that does
escaping on its own, you should always escape variables when you output them and
pay careful attention to applying the correct escaping strategy to each HTML
context you use.</p>
<p>The <code>PhpRenderer</code> includes a selection of helpers you can use for this purpose:
<code>EscapeHtml</code>, <code>EscapeHtmlAttr</code>, <code>EscapeJs</code>, <code>EscapeCss</code>, and <code>EscapeUrl</code>.
Matching the correct helper (or combination of helpers) to the context into
which you are injecting untrusted variables will ensure that you are protected
against Cross-Site Scripting (XSS) vulnerabilities.</p>
<pre><code class="php">// bad view-script practice:
echo $this-&gt;variable;

// good view-script practice:
echo $this-&gt;escapeHtml($this-&gt;variable);

// and remember context is always relevant!
&lt;script type=&quot;text/javascript&quot;&gt;
    var foo = &quot;&lt;?= $this-&gt;escapeJs($variable) ?&gt;&quot;;
&lt;/script&gt;
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <div class="table-responsive"><table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
